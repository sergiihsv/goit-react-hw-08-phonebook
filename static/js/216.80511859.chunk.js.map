{"version":3,"file":"static/js/216.80511859.chunk.js","mappings":"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","sources":["components/Modal/ModalStyled.jsx","components/Modal/EditContactModal.jsx","components/ContactsPageItem.jsx","components/Modal/AddContactModal.jsx","components/Filter/FilterContainer.jsx","components/Filter/FilterSection.jsx","pages/ContactsPage.jsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const Modal = styled.div`\n  padding: 48px;\n  border-radius: 5px;\n  background-color: #fff;\n`;","import { useState, useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport TextField from '@mui/material/TextField';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\nimport Box from '@mui/material/Box';\nimport { Overlay, Modal } from './ModalStyled';\nimport { phoneBookApi } from '../../redux/phoneBookRTK';\n\n\nconst modalRoot = document.querySelector('#modal-root');\n\nconst EditContactModal = ({ currentContact, onClose }) => {\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n  const [editContact] = phoneBookApi.usePatchContactMutation();\n\n  const handleEsc = event => {\n    if (event.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  \n  useEffect(() => {\n    window.addEventListener('keydown', handleEsc);\n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n    };\n  });\n\n  const handleBackDrop = event => {\n    if (event.target === event.currentTarget) {\n      onClose();\n    }\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const contactId = currentContact.id;\n    editContact({ name, number, contactId });\n    setName('');\n    setNumber('');\n    onClose();\n  };\n\n  return createPortal(\n    <Overlay onClick={handleBackDrop}>\n      <Modal>\n        <Box\n          component=\"form\"\n          color=\"inherit\"\n          sx={{\n            width: '100%',\n            bgcolor: 'background.main',\n            color: 'text.primary',\n          }}\n          onSubmit={handleSubmit}\n        >\n          <Typography\n            variant=\"h6\"\n            component=\"h2\"\n            color=\"inherit\"\n            sx={{ flexGrow: 1 }}\n          >\n            {currentContact.name} - {currentContact.number}\n          </Typography>\n          <TextField\n            id=\"name\"\n            label=\"Enter contact name\"\n            variant=\"standard\"\n            sx={{ m: 2 }}\n            onChange={e => setName(e.target.value)}\n          />\n          <TextField\n            id=\"number\"\n            label=\"Enter contact number\"\n            variant=\"standard\"\n            sx={{ m: 2 }}\n            onChange={e => setNumber(e.target.value)}\n          />\n          <Button\n            variant=\"contained\"\n            type=\"submit\"\n            sx={{\n              ml: 1,\n            }}\n          >\n            Submit\n          </Button>\n          <Button\n            variant=\"contained\"\n            onClick={onClose}\n            sx={{\n              ml: 1,\n            }}\n          >\n            Cancel\n          </Button>\n        </Box>\n      </Modal>\n    </Overlay>,\n    modalRoot\n  );\n};\n\nexport default EditContactModal;","import { useState } from 'react';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\nimport Box from '@mui/material/Box';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemText from '@mui/material/ListItemText';\nimport Divider from '@mui/material/Divider';\nimport EditIcon from '@mui/icons-material/Edit';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport EditContactModal from '../components/Modal/EditContactModal';\nimport {phoneBookApi} from '../redux/phoneBookRTK';\n\nexport const ContactsPageItems = ({ data }) => {\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [currentContact, setCurrentContact] = useState('');\n  const [deleteContact] = phoneBookApi.useDeleteContactMutation();\n\n  const toggleEditModal = (e) => {\n    setShowEditModal(!showEditModal);\n  };\n\n  const handleDelete = () => {\n    deleteContact(currentContact.id);\n  };\n\n  return (\n    <>\n      <Typography\n        variant=\"h6\"\n        component=\"h2\"\n        color=\"inherit\"\n        sx={{ flexGrow: 1 }}\n      >\n        Contact list\n      </Typography>\n      <Box\n        sx={{\n          width: '100%',\n          bgcolor: 'background.main',\n          color: 'text.primary',\n          display: 'flex',\n          justifyContent: 'flex-start',\n          flexDirection: 'row',\n        }}\n      >\n        <Divider />\n\n        <List>\n          {data.map(contactItem => (\n            <ListItem disablePadding sx={{ m: 1 }} onFocus={()=>setCurrentContact(contactItem)} key={contactItem.id}>\n              <ListItemText \n                \n                primary={`${contactItem.name} : ${contactItem.number}`}\n              />\n              <Button\n                variant=\"contained\"\n                endIcon={<EditIcon />}\n                sx={{ ml: 1 }}\n                onClick={toggleEditModal}\n              >\n                Edit contact\n              </Button>\n              <Button\n                variant=\"contained\"\n                endIcon={<DeleteIcon />}\n                sx={{ ml: 1 }}\n                onClick={handleDelete}\n              >\n                Delete contact\n              </Button>\n            </ListItem>\n           \n          ))}\n        </List>\n        {showEditModal && <EditContactModal currentContact={currentContact} onClose={toggleEditModal} />}\n      </Box>\n    </>\n  );\n};","import { useState, useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport { Overlay, Modal } from './ModalStyled';\nimport { phoneBookApi } from '../../redux/phoneBookRTK';\nimport { toast } from 'react-toastify';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nconst AddContactModal = ({ onClose }) => {\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n  const [createContact] = phoneBookApi.useAddContactMutation();\n\n  const { data: contacts } = phoneBookApi.useGetAllContactsQuery();\n\n  const handleEsc = event => {\n    if (event.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleEsc);\n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n    };\n  });\n\n  const handleBackDrop = event => {\n    if (event.target === event.currentTarget) {\n      onClose();\n    }\n  };\n\n  /* const handleSubmit = event => {\n    event.preventDefault();\n    createContact({ name, number });\n    setName('');\n    setNumber('');\n    onClose();\n  };\n */\n \n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const nameInContacts = contacts.find(\n      contact => contact.name.toLowerCase() === name.toLowerCase()\n    );\n    if (nameInContacts) {\n      toast.warn(`${name} is already in contacts`);\n    \n      return;\n    }\n    createContact({ name, number });\n    setName('');\n    setNumber('');\n    toast.success(`${name} is added to the phonebook `);\n    onClose();\n   \n    \n  }\n\n\n\n\n  return createPortal(\n    <Overlay onClick={handleBackDrop}>\n      <Modal>\n        <Box\n          component=\"form\"\n          color=\"inherit\"\n          sx={{\n            width: '100%',\n            bgcolor: 'background.main',\n            color: 'text.primary',\n          }}\n          onSubmit={handleSubmit}\n        >\n          <TextField\n            id=\"name\"\n            label=\"Enter contact name\"\n            variant=\"standard\"\n            sx={{ m: 2 }}\n            onChange={e => setName(e.target.value)}\n          />\n          <TextField\n            id=\"number\"\n            label=\"Enter contact number\"\n            variant=\"standard\"\n            sx={{ m: 2 }}\n            onChange={e => setNumber(e.target.value)}\n          />\n          <Button\n            variant=\"contained\"\n            type=\"submit\"\n            sx={{\n              ml: 1,\n            }}\n          >\n            Submit\n          </Button>\n          <Button\n            variant=\"contained\"\n            onClick={onClose}\n            sx={{\n              ml: 1,\n            }}\n          >\n            Cancel\n          </Button>\n        </Box>\n      </Modal>\n    </Overlay>,\n    modalRoot\n  );\n};\n\nexport default AddContactModal;\n","import styled from '@emotion/styled';\n\nexport const FilterContainer = styled.div`\n  display: flex;\n  padding: 10px;\n  :not(:last-child) {\n    margin-right:10px;\n}\n`;","import { FilterContainer } from './FilterContainer';\nimport Typography from '@mui/material/Typography';\nimport TextField from '@mui/material/TextField';\nimport Box from '@mui/material/Box';\n\nexport const FilterSection = ({ changeFilter }) => {\n  return (\n    <Box\n      sx={{\n        width: '100%',\n        bgcolor: 'background.main',\n        color: 'text.primary',\n        display: 'flex',\n        justifyContent: 'flex-start',\n        flexDirection: 'row',\n      }}\n    >\n      <FilterContainer>\n        <Typography\n          variant=\"h6\"\n          component=\"h2\"\n          color=\"inherit\"\n          sx={{ flexGrow: 1 }}\n        >\n          Filter\n        </Typography>\n        <TextField\n          id=\"filter\"\n          variant=\"outlined\"\n          size=\"small\"\n          sx={{ ml: 3 }}\n          onChange={changeFilter}\n        />\n      </FilterContainer>\n    </Box>\n  );\n};","import { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Typography from '@mui/material/Typography';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport AddCircleOutlineIcon from '@mui/icons-material/AddCircleOutline';\nimport { ContactsPageItems } from '../components/ContactsPageItem';\nimport AddContactModal from '../components/Modal/AddContactModal';\nimport { FilterSection } from '../components/Filter/FilterSection';\nimport { filterContacts } from '../redux/filter';\nimport {phoneBookApi} from '../redux/phoneBookRTK';\n\nconst ContactsPage = () => {\n  const dispatch = useDispatch();\n  const { data: contacts} = phoneBookApi.useGetAllContactsQuery();\n  const [showAddingModal, setShowAddingModal] = useState(false);\n\n  const toggleAddingModal = () => {\n    setShowAddingModal(!showAddingModal);\n  };\n\n  const filterContact = useSelector(state => state.filter.value);\n\n  const changeFilter = event => {\n    dispatch(filterContacts(event.currentTarget.value));\n  };\n\n  let visibleContacts = [];\n  const normalizedFilter = filterContact.toLowerCase();\n  if (contacts) {\n    visibleContacts = contacts.filter(data =>\n      data.name.toLowerCase().includes(normalizedFilter)\n    );\n  }\n\n  return (\n    <Box\n      sx={{\n        \n        bgcolor: 'background.main',\n        color: 'text.primary',\n        p: 3,\n      }}\n    >\n      <Button\n        variant=\"contained\"\n        endIcon={<AddCircleOutlineIcon />}\n        onClick={toggleAddingModal}\n      >\n        Add new contact\n      </Button>\n      <FilterSection changeFilter={changeFilter} />\n      {!contacts && (\n        <Typography\n          variant=\"h6\"\n          component=\"h2\"\n          color=\"inherit\"\n          sx={{ flexGrow: 1 }}\n        >\n          You have no contacts yet\n        </Typography>\n      )}\n      <ContactsPageItems data={visibleContacts} />\n      {showAddingModal && <AddContactModal onClose={toggleAddingModal} />}\n    </Box>\n  );\n};\n\nexport default ContactsPage;"],"names":["Overlay","styled","Modal","modalRoot","document","querySelector","currentContact","onClose","useState","name","setName","number","setNumber","phoneBookApi","editContact","handleEsc","event","code","useEffect","window","addEventListener","removeEventListener","createPortal","onClick","target","currentTarget","Box","component","color","sx","width","bgcolor","onSubmit","preventDefault","contactId","id","Typography","variant","flexGrow","TextField","label","m","onChange","e","value","Button","type","ml","ContactsPageItems","data","showEditModal","setShowEditModal","setCurrentContact","deleteContact","toggleEditModal","handleDelete","display","justifyContent","flexDirection","Divider","List","map","contactItem","ListItem","disablePadding","onFocus","ListItemText","primary","endIcon","Edit","Delete","createContact","contacts","find","contact","toLowerCase","toast","FilterContainer","FilterSection","changeFilter","size","dispatch","useDispatch","showAddingModal","setShowAddingModal","toggleAddingModal","visibleContacts","normalizedFilter","useSelector","state","filter","includes","p","AddCircleOutline","filterContacts"],"sourceRoot":""}