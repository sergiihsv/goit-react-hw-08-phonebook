"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[216],{8216:function(n,t,e){e.r(t),e.d(t,{default:function(){return _}});var r,o,a,i=e(885),c=e(2791),s=e(5048),l=e(4565),u=e(6015),d=e(7205),x=e(8141),m=e(5629),f=e(2087),h=e(1048),Z=e(8916),v=e(1286),j=e(7247),p=e(4164),b=e(7388),g=e(168),C=e(6088),w=C.Z.div(r||(r=(0,g.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),k=C.Z.div(o||(o=(0,g.Z)(["\n  padding: 48px;\n  border-radius: 5px;\n  background-color: #fff;\n"]))),y=e(4541),E=e(184),S=document.querySelector("#modal-root"),L=function(n){var t=n.currentContact,e=n.onClose,r=(0,c.useState)(""),o=(0,i.Z)(r,2),a=o[0],s=o[1],x=(0,c.useState)(""),m=(0,i.Z)(x,2),f=m[0],h=m[1],Z=y.oU.usePatchContactMutation(),v=(0,i.Z)(Z,1)[0],j=function(n){"Escape"===n.code&&e()};(0,c.useEffect)((function(){return window.addEventListener("keydown",j),function(){window.removeEventListener("keydown",j)}}));return(0,p.createPortal)((0,E.jsx)(w,{onClick:function(n){n.target===n.currentTarget&&e()},children:(0,E.jsx)(k,{children:(0,E.jsxs)(u.Z,{component:"form",color:"inherit",sx:{width:"100%",bgcolor:"background.main",color:"text.primary"},onSubmit:function(n){n.preventDefault();var r=t.id;v({name:a,number:f,contactId:r}),s(""),h(""),e()},children:[(0,E.jsxs)(l.Z,{variant:"h6",component:"h2",color:"inherit",sx:{flexGrow:1},children:[t.name," - ",t.number]}),(0,E.jsx)(b.Z,{id:"name",label:"Enter contact name",variant:"standard",sx:{m:2},onChange:function(n){return s(n.target.value)}}),(0,E.jsx)(b.Z,{id:"number",label:"Enter contact number",variant:"standard",sx:{m:2},onChange:function(n){return h(n.target.value)}}),(0,E.jsx)(d.Z,{variant:"contained",type:"submit",sx:{ml:1},children:"Submit"}),(0,E.jsx)(d.Z,{variant:"contained",onClick:e,sx:{ml:1},children:"Cancel"})]})})}),S)},A=function(n){var t=n.data,e=(0,c.useState)(!1),r=(0,i.Z)(e,2),o=r[0],a=r[1],s=(0,c.useState)(""),x=(0,i.Z)(s,2),p=x[0],b=x[1],g=y.oU.useDeleteContactMutation(),C=(0,i.Z)(g,1)[0],w=function(n){a(!o)},k=function(){C(p.id)};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(l.Z,{variant:"h6",component:"h2",color:"inherit",sx:{flexGrow:1},children:"Contact list"}),(0,E.jsxs)(u.Z,{sx:{width:"100%",bgcolor:"background.main",color:"text.primary",display:"flex",justifyContent:"flex-start",flexDirection:"row"},children:[(0,E.jsx)(Z.Z,{}),(0,E.jsx)(m.Z,{children:t.map((function(n){return(0,E.jsxs)(f.ZP,{disablePadding:!0,sx:{m:1},onFocus:function(){return b(n)},children:[(0,E.jsx)(h.Z,{primary:"".concat(n.name," : ").concat(n.number)}),(0,E.jsx)(d.Z,{variant:"contained",endIcon:(0,E.jsx)(v.Z,{}),sx:{ml:1},onClick:w,children:"Edit contact"}),(0,E.jsx)(d.Z,{variant:"contained",endIcon:(0,E.jsx)(j.Z,{}),sx:{ml:1},onClick:k,children:"Delete contact"})]},n.id)}))}),o&&(0,E.jsx)(L,{currentContact:p,onClose:w})]})]})},D=e(5206),G=document.querySelector("#modal-root"),F=function(n){var t=n.onClose,e=(0,c.useState)(""),r=(0,i.Z)(e,2),o=r[0],a=r[1],s=(0,c.useState)(""),l=(0,i.Z)(s,2),x=l[0],m=l[1],f=y.oU.useAddContactMutation(),h=(0,i.Z)(f,1)[0],Z=y.oU.useGetAllContactsQuery().data,v=function(n){"Escape"===n.code&&t()};(0,c.useEffect)((function(){return window.addEventListener("keydown",v),function(){window.removeEventListener("keydown",v)}}));return(0,p.createPortal)((0,E.jsx)(w,{onClick:function(n){n.target===n.currentTarget&&t()},children:(0,E.jsx)(k,{children:(0,E.jsxs)(u.Z,{component:"form",color:"inherit",sx:{width:"100%",bgcolor:"background.main",color:"text.primary"},onSubmit:function(n){n.preventDefault(),Z.find((function(n){return n.name.toLowerCase()===o.toLowerCase()}))?D.Am.warn("".concat(o," is already in contacts")):(h({name:o,number:x}),a(""),m(""),D.Am.success("".concat(o," is added to the phonebook ")),t())},children:[(0,E.jsx)(b.Z,{id:"name",label:"Enter contact name",variant:"standard",sx:{m:2},onChange:function(n){return a(n.target.value)}}),(0,E.jsx)(b.Z,{id:"number",label:"Enter contact number",variant:"standard",sx:{m:2},onChange:function(n){return m(n.target.value)}}),(0,E.jsx)(d.Z,{variant:"contained",type:"submit",sx:{ml:1},children:"Submit"}),(0,E.jsx)(d.Z,{variant:"contained",onClick:t,sx:{ml:1},children:"Cancel"})]})})}),G)},I=C.Z.div(a||(a=(0,g.Z)(["\n  display: flex;\n  padding: 10px;\n  :not(:last-child) {\n    margin-right:10px;\n}\n"]))),P=function(n){var t=n.changeFilter;return(0,E.jsx)(u.Z,{sx:{width:"100%",bgcolor:"background.main",color:"text.primary",display:"flex",justifyContent:"flex-start",flexDirection:"row"},children:(0,E.jsxs)(I,{children:[(0,E.jsx)(l.Z,{variant:"h6",component:"h2",color:"inherit",sx:{flexGrow:1},children:"Filter"}),(0,E.jsx)(b.Z,{id:"filter",variant:"outlined",size:"small",sx:{ml:3},onChange:t})]})})},U=e(8880),_=function(){var n=(0,s.I0)(),t=y.oU.useGetAllContactsQuery().data,e=(0,c.useState)(!1),r=(0,i.Z)(e,2),o=r[0],a=r[1],m=function(){a(!o)},f=[],h=(0,s.v9)((function(n){return n.filter.value})).toLowerCase();return t&&(f=t.filter((function(n){return n.name.toLowerCase().includes(h)}))),(0,E.jsxs)(u.Z,{sx:{bgcolor:"background.main",color:"text.primary",p:3},children:[(0,E.jsx)(d.Z,{variant:"contained",endIcon:(0,E.jsx)(x.Z,{}),onClick:m,children:"Add new contact"}),(0,E.jsx)(P,{changeFilter:function(t){n((0,U.x)(t.currentTarget.value))}}),!t&&(0,E.jsx)(l.Z,{variant:"h6",component:"h2",color:"inherit",sx:{flexGrow:1},children:"You have no contacts yet"}),(0,E.jsx)(A,{data:f}),o&&(0,E.jsx)(F,{onClose:m})]})}}}]);
//# sourceMappingURL=216.80511859.chunk.js.map